#!/bin/bash

# Root folder
ROOT="telecom_network_db"

# List of files relative to $ROOT
FILES=(
"01_user_management/1_tables/1_user_profiles.sql"
"01_user_management/2_views/1_v_user_profiles_extended.sql"
"01_user_management/2_views/2_admin_get_all_users_extended.sql"
"01_user_management/3_functions/1_admin_functions/1_admin_get_all_users.sql"
"01_user_management/3_functions/1_admin_functions/2_admin_get_user_by_id.sql"
"01_user_management/3_functions/1_admin_functions/3_admin_update_user_profile.sql"
"01_user_management/3_functions/1_admin_functions/4_admin_bulk_update_status.sql"
"01_user_management/3_functions/1_admin_functions/5_admin_bulk_update_role.sql"
"01_user_management/3_functions/1_admin_functions/6_admin_bulk_delete_users.sql"
"01_user_management/3_functions/2_utility_functions/1_is_super_admin.sql"
"01_user_management/3_functions/2_utility_functions/2_get_my_role.sql"
"01_user_management/3_functions/2_utility_functions/3_get_my_user_details.sql"
"01_user_management/3_functions/3_trigger_functions/1_update_user_profile_timestamp.sql"
"01_user_management/3_functions/3_trigger_functions/2_sync_user_role_to_auth.sql"
"01_user_management/3_functions/3_trigger_functions/3_create_public_profile_for_new_user.sql"
"01_user_management/4_indexes/1_user_profile_indexes.sql"
"01_user_management/5_triggers/1_on_auth_user_created.sql"
"01_user_management/5_triggers/2_update_user_profile_updated_at.sql"
"01_user_management/5_triggers/3_sync_user_role_trigger.sql"
"01_user_management/5_triggers/4_sync_user_role_insert_trigger.sql"

"02_core_infrastructure/1_tables/1_lookup_types.sql"
"02_core_infrastructure/1_tables/2_maintenance_areas.sql"
"02_core_infrastructure/1_tables/3_employee_designations.sql"
"02_core_infrastructure/1_tables/4_employees.sql"
"02_core_infrastructure/1_tables/5_rings.sql"
"02_core_infrastructure/1_tables/6_nodes.sql"
"02_core_infrastructure/1_tables/7_ofc_cables.sql"
"02_core_infrastructure/1_tables/8_ofc_connections.sql"
"02_core_infrastructure/2_functions/1_update_updated_at_column.sql"
"02_core_infrastructure/2_functions/2_update_ring_node_count.sql"
"02_core_infrastructure/2_functions/3_dom_update_functions.sql"
"02_core_infrastructure/3_views/1_v_nodes_complete.sql"
"02_core_infrastructure/3_views/2_v_ofc_cables_complete.sql"
"02_core_infrastructure/3_views/3_v_ofc_connections_complete.sql"
"02_core_infrastructure/4_indexes/1_core_indexes.sql"
"02_core_infrastructure/4_indexes/2_fts_indexes.sql"
"02_core_infrastructure/5_triggers/1_ring_node_count_trigger.sql"
"02_core_infrastructure/5_triggers/2_updated_at_triggers.sql"
"02_core_infrastructure/5_triggers/3_dom_update_triggers.sql"

"03_network_systems/1_tables/01_systems.sql"
"03_network_systems/1_tables/02_system_connections.sql"
"03_network_systems/1_tables/03_management_ports.sql"
"03_network_systems/1_tables/04_cpan_systems.sql"
"03_network_systems/1_tables/05_cpan_connections.sql"
"03_network_systems/1_tables/06_maan_systems.sql"
"03_network_systems/1_tables/07_maan_connections.sql"
"03_network_systems/1_tables/08_sdh_systems.sql"
"03_network_systems/1_tables/09_sdh_connections.sql"
"03_network_systems/1_tables/10_sdh_node_associations.sql"
"03_network_systems/1_tables/11_vmux_systems.sql"
"03_network_systems/1_tables/12_vmux_connections.sql"
"03_network_systems/2_views/1_v_systems_complete.sql"
"03_network_systems/2_views/2_v_system_connections_complete.sql"
"03_network_systems/3_indexes/1_system_indexes.sql"
"03_network_systems/4_triggers/1_updated_at_triggers.sql"

"04_advanced_ofc/1_tables/1_fiber_joints.sql"
"04_advanced_ofc/1_tables/2_logical_fiber_paths.sql"
"04_advanced_ofc/1_tables/3_fiber_joint_connections.sql"
"04_advanced_ofc/2_views/1_v_end_to_end_paths.sql"
"04_advanced_ofc/2_views/2_v_cable_utilization.sql"
"04_advanced_ofc/3_indexes/1_advanced_ofc_indexes.sql"
"04_advanced_ofc/4_triggers/1_updated_at_triggers.sql"
"04_advanced_ofc/5_constraints/1_add_fk_constraints.sql"

"05_auditing/1_tables/1_user_activity_logs.sql"
"05_auditing/2_functions/1_log_user_activity.sql"
"05_auditing/2_functions/2_log_data_changes.sql"
"05_auditing/3_triggers/1_attach_logging_triggers.sql"

"06_utility_functions/1_lookup_type_functions.sql"
"06_utility_functions/2_query_execution_functions/1_execute_sql.sql"
"06_utility_functions/2_query_execution_functions/2_get_unique_values.sql"
"06_utility_functions/3_aggregation_functions/1_aggregate_query.sql"
"06_utility_functions/4_pagination_functions/1_paged_nodes_complete.sql"
"06_utility_functions/4_pagination_functions/2_paged_ofc_cables_complete.sql"
"06_utility_functions/4_pagination_functions/3_paged_ofc_connections_complete.sql"
"06_utility_functions/4_pagination_functions/4_paged_systems_complete.sql"
"06_utility_functions/4_pagination_functions/5_paged_system_connections_complete.sql"
"06_utility_functions/5_data_operation_functions/1_bulk_update.sql"
"06_utility_functions/6_dashboard_functions/1_dashboard_overview.sql"

"99_security/1_setup/1_create_roles.sql"
"99_security/1_setup/2_enable_rls.sql"
"99_security/2_policies/1_user_profiles_policies.sql"
"99_security/2_policies/2_core_tables_policies.sql"
"99_security/2_policies/3_system_tables_policies.sql"
"99_security/2_policies/4_advanced_ofc_policies.sql"
"99_security/2_policies/5_management_ports_policies.sql"
"99_security/3_grants/1_core_and_system_grants.sql"
"99_security/3_grants/2_user_management_grants.sql"
)

# Loop and create dirs/files
for f in "${FILES[@]}"; do
  mkdir -p "$ROOT/$(dirname "$f")"
  touch "$ROOT/$f"
done

echo "âœ… Project structure created inside $ROOT/"
